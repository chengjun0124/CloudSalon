app.controller("appointments_pending",["$scope","appointmentAPIService","serviceAPIService","$rootScope","purchasedServiceAPIService",function(n,t,i,r,u){function f(t){for(var i=0;i<n.appointments.length;i++)if(n.appointments[i].serviceId==t&&(n.appointments[i].appointmentStatusId==1||n.appointments[i].appointmentStatusId==3))return!0;return!1}r.pageTitle="预约";n.purchasedServices=null;n.appointments=null;n.hotServices=null;t.getUserAppointments().then(function(t){n.appointments=t.data;u.getPurchasedServices(1,2,!0).then(function(t){n.purchasedServices=t.data;for(var i=0;i<n.purchasedServices.length;i++)n.purchasedServices[i].hasPendingAppointment=f(n.purchasedServices[i].serviceId)})});i.getHotServices(2).then(function(t){n.hotServices=t.data})}]);