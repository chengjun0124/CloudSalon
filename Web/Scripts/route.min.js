var app=angular.module("app",["ui.router","ngDialog"]);app.run(["$rootScope","$state","locationEx","directiveInculdeHtmlTemplates","$timeout",function(n,t,i,r,u){for(var f=0;f<r.length;f++)n[r[f].name]=r[f].templateUrl+"?d="+r[f].digest;n.$on("$stateChangeStart",function(r,f,e,o,s){var h=n.$broadcast("browserBack"),c,l,a;h.callBack&&h.callBack();h.defaultPrevented?(t.go(o,s),r.preventDefault(),c=n.pageTitle,n.pageTitle="",u(function(){n.pageTitle=c},1)):(l=["appointment_success","appointments_pending","appointment","appointment_cancel_success","usercenter","appointments","user_edit","service_appoint","consumecode","purchasedservices","receipts"],a=i.queryString("identitycode"),l.indexOf(f.name)>-1&&(localStorage[a]||(t.go("login",{redirect:encodeURIComponent('{ "state": "'+f.name+'", "params": '+JSON.stringify(e)+"}")}),r.preventDefault())))})}]);app.config(["$stateProvider","$urlRouterProvider","htmlTemplates",function(n,t,i){for(var r=0;r<i.length;r++)n.state(i[r].state,{url:i[r].url,templateUrl:i[r].templateUrl+"?d="+i[r].digest,controller:i[r].controller})}]);