function timeSpan(n){if(this.hour,this.minute,this.second,/^\d{2}:\d{2}:\d{2}$/.test(n))this.hour=parseInt(n.split(":")[0]),this.minute=parseInt(n.split(":")[1]),this.second=parseInt(n.split(":")[2]);else{var t=parseInt(n);this.hour=parseInt(t/60);this.minute=t%60;this.second=0}this.add=function(n){var i=0,t=0,r=0;return i=this.second+n.second,i>59&&(t++,i=i-60),t=this.minute+n.minute+t,t>59&&(r++,t=t-60),r=this.hour+n.hour+r,new timeSpan(r+":"+t+":"+i)};this.lessThan=function(n){return this.hour<n.hour?!0:this.minute<n.minute?!0:this.second<n.second?!0:!1};this.equal=function(n){return this.hour==n.hour&&this.minute==n.minute&&this.second==n.second};this.toString=function(){var n=this.hour.toStringWithPrefix(2),t=this.minute.toStringWithPrefix(2),i=this.second.toStringWithPrefix(2);return n+":"+t+":"+i}}String.prototype.toDateString=function(){return this.split("T")[0]};String.prototype.toDateTimeString=function(){return this.replace("T"," ")};Date.prototype.format=function(n){var t=n;return t=t.replace("YYYY",this.getFullYear()),t=t.replace("MM",(this.getMonth()+1).toStringWithPrefix(2)),t.replace("dd",this.getDate().toStringWithPrefix(2))};Number.prototype.toStringWithPrefix=function(n){return(Array(n).join("0")+this).slice(-n)};String.prototype.format=function(n){var t=n,i=this.match(/^(\d{2}):(\d{2}):(\d{2})(.\d+){0,1}$/),r;return i!=null?(t=t.replace("hh",i[1]),t.replace("mm",i[2])):(i=this.match(/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(.\d+){0,1}$/),i!=null&&(t=t.replace("YYYY",i[1]),t=t.replace("MM",i[2]),t=t.replace("dd",i[3]),t=t.replace("hh",i[4]),t=t.replace("mm",i[5]),t.indexOf("day")>-1&&(r=new Date(this).getDay(),r==0?t=t.replace("day","日"):r==1?t=t.replace("day","一"):r==2?t=t.replace("day","二"):r==3?t=t.replace("day","三"):r==4?t=t.replace("day","四"):r==5?t=t.replace("day","五"):r==6&&(t=t.replace("day","六")))),t)};String.prototype.toMinutes=function(){var n=this.split(":");return n[0]*60+parseInt(n[1])};