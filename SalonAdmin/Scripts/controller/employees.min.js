app.controller("employees",["$scope","employeeAPIService","dialogService",function(n,t,i){function u(){t.getEmployees(r).then(function(t){if(r==1&&(n.employees=[]),t.data.length>0)for(var i=0;i<t.data.length;i++)n.employees.push(t.data[i]);n.dataForLoadMore=n.employees.length==0?null:t.data})}function f(){t.getEmployeeCount().then(function(t){n.employeeCount=t.data})}n.title="员工";n.routeName="home";var r=1;n.dataForLoadMore=null;n.employees=null;u();f();n.loadMore=function(){r++;u()};n.deleteEmployee=function(r,u,f){r.preventDefault();i.showMention(2,"确定要删除此员工吗？",null,null,function(){t.deleteEmployee(u).then(function(){n.employeeCount--;n.employees.splice(f,1)})})};n.workStatus=function(n){var u=(new Date).getDay(),i="工作日",r="休息日",t;switch(u){case 0:t=n.isDayoffSun?r:i;break;case 1:t=n.isDayoffMon?r:i;break;case 2:t=n.isDayoffTue?r:i;break;case 3:t=n.isDayoffWeb?r:i;break;case 4:t=n.isDayoffThu?r:i;break;case 5:t=n.isDayoffFri?r:i;break;case 6:t=n.isDayoffSat?r:i}return t}}]);