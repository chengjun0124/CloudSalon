app.controller("service_select",["$scope","serviceAPIService","$stateParams","routeService","dialogService",function(n,t,i,r){function f(){t.getServices(u).then(function(t){if(u==1&&(n.services=[]),t.data.length>0)for(var i=0;i<t.data.length;i++)n.services.push(t.data[i]);n.dataForLoadMore=n.services.length==0?null:t.data})}n.userId=i.userId;n.dataForLoadMore=null;var u=1;n.services=null;n.title="服务";n.routeName=n.userId==null?"customers":"user/"+n.userId;n.selectedService=null;f();n.selectService=function(t){n.selectedService=t};n.loadMore=function(){u++;f()};n.submit=function(){n.userId==null?r.goParams("check_anonym",{serviceId:n.selectedService.serviceId}):r.goParams("service_purchase",{userId:n.userId,serviceId:n.selectedService.serviceId})}}]);