app.controller("service",["$scope","serviceAPIService","$stateParams","routeService","storageService","dialogService","$rootScope",function(n,t,i,r,u,f,e){n.serviceId=i.serviceId;n.userTypeId=u.getUserTypeId();n.routeName="services";n.isDiscount=!1;t.getService(n.serviceId).then(function(t){n.service=t.data;n.isDiscount=n.service.oncePriceOnSale!=null||n.service.treatmentPriceOnSale!=null;n.painStars=[];for(var i=0;i<t.data.pain;i++)n.painStars.push(i)});n.deleteService=function(){f.showMention(2,"确定要删除此服务吗？",null,null,function(){t.deleteService(n.serviceId).then(function(){r.goParams("services")})})};n.share=function(){var t=n.service.smallSubjectImage==null?e.FRONTENDURL+"imgs/share.jpg":n.service.smallSubjectImage;control.shareContent(n.service.serviceName,n.service.functionality,e.FRONTENDURL+"?identitycode="+u.getIdentityCode()+"#!/service/"+n.service.serviceId+"/1",t)}}]);